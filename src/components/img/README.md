# img 图片 (v1.6.0+)

> img 是一个图片组件，支持自定义loading和加载失败效果，支持懒加载。还可以结合[image-thumbnail-loader](https://gitlab.vmic.xyz/game-fed/image-thumbnail-loader)来制作更复杂的加载效果，如demo中的渐进式加载、点击后加载gif图等。

## 使用方法

```
<v-img class="width:200px;height:100px;" src="http://xxxx" loading="data:image/jpeg;base64,xxxx" :error="data:image/jpeg;base64,xxxx"></v-img>
```

```
import {Img} from 'vui';

export default {
  components: {
    VImg: Img
  },
  ...
};
```

**通常要给组件设置宽和高**

## 属性

|       名称        |          类型           |            必填            | 默认值  |                                                                                                         描述                                                                                                          |
| :---------------: | :---------------------: | :------------------------: | :-----: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|        src        |        `String`         | `N` (**v1.11.0**之前为`Y`) |   `-`   |                                                                   要加载图片的src。当图片为gif时，可以当用户点击后再设置该属性，从而实现点击后加载                                                                    |
|      loading      |        `String`         |            `N`             |   `-`   |                                                     loading 效果图的 src（通常使用 base64 内嵌图片），如不设置该属性，也可通过`loading`插槽来自定义 loading 效果                                                      |
|       error       |        `String`         |            `N`             |   `-`   |                                                       加载失败效果图的 src（通常使用 base64 内嵌图片），如不设置该属性，也可通过`error`插槽来自定义 error 效果                                                        |
|       delay       |        `Number`         |            `N`             |   `0`   |                                                                                             延迟多久反馈加载结果，单位 ms                                                                                             |
| lazy**(v1.7.0+)** | `Boolean`&#124;`Object` |            `N`             | `false` | 是否懒加载图片，`false`表示不懒加载图片，`true`表示懒加载图片（使用默认曝光行为），还可以设置成[track](/src/plugins/track/?id=指令值)埋点插件指令值的[options](/src/plugins/track/?id=指令值)属性那样来自定义曝光行为 |

`type`、`duration`、`mode`属性跟 cutover 组件一致

## 插槽

|  名称   | 必填  |                                             说明                                             |
| :-----: | :---: | :------------------------------------------------------------------------------------------: |
| loading |  `N`  | loading 效果，当不想使用属性`loading`来指定加载效果图时，可以通过该插槽来自定义 loading 效果 |
|  error  |  `N`  | 加载失败效果，当不想使用属性`error`来指定加载失败效果图时，可以通过该插槽来自定义 error 效果 |

## 事件

|          名称           |    参数     |                                     说明                                     |
| :---------------------: | :---------: | :--------------------------------------------------------------------------: |
| complete **(v1.11.0+)** | (`success`) | 图片加载成功或失败时触发，`success`为`true`表示加载成功，`false`表示加载失败 |

## 更新日志

- v1.11.0 新增`complete`事件，且将`src`属性改为非必填
- v1.7.0 新增懒加载功能
- v1.6.0 发布
