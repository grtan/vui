# timer 计时器 (v1.8.0+)

> `timer`为计时器，支持正计时和倒计时，**支持自定义时间格式，并且当页面滚动或者退到后台时也能准确计时**。

## 使用方法

```
import { timer as Timer } from 'vui'

const timer = new Timer({
  from: 2 * 24 * 3600,
  countdown: true,
  format: 'dd HH:mm:ss',
  callback: ({day, hour, minute, second}, complete) => {
    const text = `${day}天${hour}时${minute}分${second}秒`

    ...
  }
})

timer.play()   // 开始计时
timer.pause()  // 暂停计时
```

## 参数

参数为一个对象，包含如下属性

|   名称    |    类型    | 必填  |    默认值     |                                                                                                        描述                                                                                                         |
| :-------: | :--------: | :---: | :-----------: | :-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|   from    |  `Number`  |  `N`  |      `0`      |                                                                                   计时器初始时间，单位s，倒计时的时候该值要大于0                                                                                    |
| countdown | `Boolean`  |  `N`  |    `false`    |                                                                                                     是否倒计时                                                                                                      |
|  format   |  `String`  |  `N`  | `dd HH:mm:ss` |                                                                               指定返回的时间格式，默认返回天数、小时数、分钟数和秒数                                                                                |
| callback  | `Function` |  `Y`  |      `-`      | 回调函数，参数为`({day, hour, minute, second}, complete)`，`day`表示天数，`hour`表示小时，`minute`表示分钟，`second`表示秒，`day`、`hour`、`minute`、`second`字段是否存在跟`format`有关，`complete`表示计时是否完成 |

## format时间格式

| 格式  | 含义  |                               描述                               |
| :---: | :---: | :--------------------------------------------------------------: |
|  dd   |  天   |   当格式中不包含天时，`callback`的第一个参数不会包含`day`字段    |
|   d   |  天   |                     小于10时不补0，其他同上                      |
|  HH   | 小时  |  当格式中不包含小时时，`callback`的第一个参数不会包含`hour`字段  |
|   H   | 小时  |                     小于10时不补0，其他同上                      |
|  mm   | 分钟  | 当格式中不包含分钟时，`callback`的第一个参数不会包含`minute`字段 |
|   m   | 分钟  |                     小于10时不补0，其他同上                      |
|  ss   |  秒   |  当格式中不包含秒时，`callback`的第一个参数不会包含`second`字段  |
|   s   |  秒   |                     小于10时不补0，其他同上                      |

## 方法

timer对象包含如下方法

| 名称  | 参数  |   描述   |
| :---: | :---: | :------: |
| play  |  `-`  | 开始计时 |
| pause |  `-`  | 暂停计时 |

## 更新日志

* v1.8.0 发布
